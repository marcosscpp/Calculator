(()=>{"use strict";!function(e){const t=document.querySelector("[data-previous-operand]"),r=document.querySelector("[data-current-operand]"),a=document.querySelectorAll("[data-number]"),n=document.querySelectorAll("[data-operation]"),i=document.querySelector("[data-delete]"),d=document.querySelector("[data-all-clear]"),s=document.querySelector("[data-equals]"),c=new e(t,r);a.forEach((e=>{e.addEventListener("click",(()=>{c.appendNum(e.innerText),c.updateDisplay()}))})),n.forEach((e=>{e.addEventListener("click",(()=>{c.choseOperator(e.innerText),c.updateDisplay()}))})),s.addEventListener("click",(()=>{c.calculate(),c.updateDisplay()})),d.addEventListener("click",(()=>{c.clear(),c.updateDisplay()})),i.addEventListener("click",(()=>{c.delete(),c.updateDisplay()}));const p=["1","2","3","4","5","6,","7","8","9","0","."],o=["/","*","-","+"];window.addEventListener("keydown",(e=>{p.includes(e.key)?(c.appendNum(e.key),c.updateDisplay()):"Backspace"===e.key?(c.delete(),c.updateDisplay()):o.includes(e.key)?(c.choseOperator(e.key),c.updateDisplay()):"Delete"===e.key&&(c.clear(),c.updateDisplay())}))}(class{constructor(e,t){this.previousOperandDOM=e,this.currentOperandDOM=t,this.clear()}clear(){this.currentOperand="",this.previousOperand="",this.operation=void 0}delete(){this.currentOperand&&(this.currentOperand=this.currentOperand.slice(0,-1))}choseOperator(e){this.currentOperand&&(""!==this.previousOperand&&this.calculate(),this.operator=e,this.previousOperand=this.currentOperand+" "+e,this.currentOperand="")}appendNum(e){this.currentOperand.includes(".")&&"."===e||(this.currentOperand+=e.toString())}calculate(){let e;const t=parseFloat(this.previousOperand),r=parseFloat(this.currentOperand);if(!isNaN(t)&&!isNaN(r)){switch(this.operator){case"รท":case"/":e=t/r;break;case"ร":case"*":e=t*r;break;case"-":e=t-r;break;case"+":e=t+r;break;default:return}this.previousOperand=" ",this.currentOperand=e.toString(),this.operation=void 0}}updateDisplay(){this.currentOperandDOM.innerText=this.currentOperand,this.previousOperandDOM.innerText=this.previousOperand}});const e=document.querySelector(".toggle");!function(e,t){e.addEventListener("click",(()=>{document.documentElement.classList.toggle("light-mode"),"dark_mode"===t.innerText?t.innerText="light_mode":t.innerText="dark_mode"}))}(e,e.firstElementChild)})();